{% extends "base.html" %}

{% block title %}ConfiguraÃ§Ãµes - PDV-MF{% endblock %}

{% block content %}
<div class="container">
    <div class="card">
        <div class="card-header">
            <h2>âš™ï¸ ConfiguraÃ§Ãµes do Sistema</h2>
        </div>
        <div class="card-body">
            <form id="formConfiguracao" onsubmit="salvarConfiguracao(event)">
                <div class="form-group">
                    <label>Nome da Loja *</label>
                    <input type="text" id="configNomeLoja" class="form-control" required>
                </div>

                <div class="form-group">
                    <label>ResponsÃ¡vel *</label>
                    <input type="text" id="configResponsavel" class="form-control" required>
                </div>

                <div class="form-group">
                    <label>Formas de Pagamento</label>
                    <div id="formasPagamentoLista" class="formas-pagamento-lista">
                        <!-- Lista serÃ¡ carregada dinamicamente -->
                    </div>
                    <div class="input-group mt-2">
                        <input type="text" id="novaFormaPagamento" class="form-control" placeholder="Nova forma de pagamento">
                        <button type="button" onclick="adicionarFormaPagamento()" class="btn btn-secondary">
                            â• Adicionar
                        </button>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-success btn-large">
                        ğŸ’¾ Salvar ConfiguraÃ§Ãµes
                    </button>
                </div>
            </form>

            <hr>

            <div class="info-section">
                <h3>ğŸ”” Teste de NotificaÃ§Ãµes Push</h3>
                <p>Teste diferentes tipos de notificaÃ§Ãµes para verificar se estÃ£o funcionando:</p>
                <div class="notification-test-buttons">
                    <button type="button" onclick="testarNotificacao('geral')" class="btn btn-secondary">
                        ğŸ”” Teste Geral
                    </button>
                    <button type="button" onclick="testarNotificacao('sangria')" class="btn btn-secondary">
                        ğŸ’¸ Teste Sangria
                    </button>
                    <button type="button" onclick="testarNotificacao('abertura')" class="btn btn-secondary">
                        ğŸ”“ Teste Abertura
                    </button>
                    <button type="button" onclick="testarNotificacao('fechamento')" class="btn btn-secondary">
                        ğŸ”’ Teste Fechamento
                    </button>
                    <button type="button" onclick="testarNotificacao('resumo_diario')" class="btn btn-secondary">
                        ğŸ“Š Teste Resumo
                    </button>
                </div>
                <div id="resultadoTeste" class="mt-2"></div>
            </div>

            <hr>

            <div class="info-section">
                <h3>â„¹ï¸ InformaÃ§Ãµes do Sistema</h3>
                <p><strong>VersÃ£o:</strong> 2.0.0 Web</p>
                <p><strong>Banco de Dados:</strong> SQLite/PostgreSQL</p>
                <p><strong>LocalizaÃ§Ã£o dos Dados:</strong> ConfigurÃ¡vel via variÃ¡veis de ambiente</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/configuracoes.js') }}"></script>
{% endblock %}
